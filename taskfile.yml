version: '3'

includes:
  back: 
    taskfile: ./backend/taskfile.yml
    dir: ./backend
  front: 
    taskfile: ./frontend/taskfile.yml
    dir: ./frontend
  docker:
    taskfile: ./taskfile.docker.yml

tasks:
  default:
    desc: List available tasks
    cmds:
      - task --list-all
      
  copy:env:
    desc: Copy default env vars
    cmds:
      - cp .env.sample .env
    silent: false

  copy:env:optional:
     desc: Ensure .env exists
     cmds:
      - |
        if [ ! -f .env ]; then
          echo ".env not found, copying from .env.sample"
          cp .env.sample .env
        else
          echo ".env already exists"
        fi